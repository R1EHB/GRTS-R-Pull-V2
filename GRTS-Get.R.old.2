BaseURL <- "https://ofmpub.epa.gov/apex/grts_rest/GetProjectsByHUC12/"
myHUC12 <- "020503030802"

myHUC12Vector <- c("020503030802", "020503030803","171100190303")


library(httr)
library(jsonlite)
URL <- paste0(BaseURL, myHUC12Vector[1])

raw_data <- GET (URL)
GRTS <- fromJSON(rawToChar(raw_data$content), flatten = TRUE)


str (GRTS$content)
q()

for (i in 2:length(myHUC12Vector)) {

    URL <- paste0(BaseURL, myHUC12Vector[i])
    raw_data <- GET (URL)
    temp <- fromJSON(rawToChar(raw_data$content), flatten = TRUE)
    GRTS <- append (GRTS, temp)
}


# Let's take a closer look at the structure of 


q()



print (myHUC12Vector)
length (myHUC12Vector)

q()

library(httr)
URL <- paste0(BaseURL, myHUC12)

raw_data <- GET (URL)

print (raw_data)
library ("jsonlite")
GRTS <- fromJSON(rawToChar(raw_data$content), flatten = TRUE)

myHUC12 <- "020503030803"
URL <- paste0(BaseURL, myHUC12)
raw_data <- GET (URL)
print(raw_data)

temp <- fromJSON(rawToChar(raw_data$content), flatten = TRUE)
append (GRTS, temp)
str (GRTS)
View(GRTS)
q()


foo <-jsonlite::fromJSON("https://ofmpub.epa.gov/apex/grts_rest/GetProjectsByHUC12/020503030802")

print (foo)

